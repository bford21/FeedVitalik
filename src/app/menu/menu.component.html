<div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
    <div id="dialog" class="modal-dialog">
        <div class="modal-content">
            <div class="modal-body">
                <div id="modalBody" role="tabpanel">
                  <!-- Nav tabs -->
                  <ul class="nav nav-tabs" role="tablist">
                      <li role="presentation" class="active">
                        <a href="#infoTab" aria-controls="infoTab" role="tab" data-toggle="tab" (click)="resetModalWidth()">Info</a>
                      </li>
                      <li role="presentation">
                        <a #char href="#characterTab" aria-controls="characterTab" role="tab" data-toggle="tab" (click)="resetModalWidth()">Character</a>
                      </li>
                      <li role="presentation">
                        <a href="#storeTab" aria-controls="storeTab" role="tab" data-toggle="tab" (click)="expandModal()">Store</a>
                      </li>
                      <li role="presentation">
                        <a href="#transactionsTab" aria-controls="transactionsTab" role="tab" data-toggle="tab" (click)="expandModal()">Transactions</a>
                      </li>
                      <li role="presentation">
                        <a href="#scoresTab" aria-controls="scoresTab" role="tab" data-toggle="tab" (click)="resetModalWidth(); populateLeaderboard();">Scores</a>
                      </li>
                      <li role="presentation">
                        <a href="#settingsTab" aria-controls="settingsTab" role="tab" data-toggle="tab" (click)="resetModalWidth(); readSettings();">Settings</a>
                      </li>
                      <!-- <li role="presentation">
                        <a href="#bugReportTab" aria-controls="bugReportTab" role="tab" data-toggle="tab" (click)="resetModalWidth();">Bug report/feature request</a>
                      </li> -->
                      <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                  </ul>
                  <!-- Tab panes -->
                  <div class="tab-content">
                    <div role="tabpanel" class="tab-pane active" id="infoTab">
                        <img id="vitalik" src="../assets/Images/menuHeader3.png" class="img-responsive"/>
                          <p>FeedVitalik is an Ethereum blockchain transaction visualizer with a twist. The
                          Eth you see falling from the sky are real time transactions happening on the Ethereum blockchain.</p>

                          <p>The size and value of each Eth is determined by the size of the transaction. The speed at which the Eth falls is determined by the gas price paid for that particular transaction.</p>

                          <p>Eat the Eth to help feed a hungry Vitalik as well as increase your score.</p>

                          <p>Watch out for those pesky fiat dollars falling from the sky, Vitaliks allergic. Dollars have no correlation to any on-chain event and are generated at random.</p>

                          <h3>Controls</h3>
                          <p>Use your arrow keys to move Vitalik horizontally, up and down. (WASD work as well)</p>
                          <p>Use the spacebar to jump.</p>

                          <h3>Credits</h3>
                          <p>Background music by <a href="http://www.twinmusicom.org" target="_blank">Twin Musicom</a></p>
                          <p>Sound effects obtained from <a href="https://www.zapsplat.com" target="_blank">zapsplat</a></p>
                          <h3>Support</h3>
                          <p>Support FeedVitalik by helping make it better! All the code is open source and can be found on <a href="https://github.com/bford21/FeedVitalik" target="_blank">my github.</a></p>
                          
                          <p>Alternatively, consider donating some Eth and help feed me!</p>
                          <form>
                          <div id="ens" class="input-group">
                            <span class="input-group-addon">ENS</span>
                            <input onClick="this.select()" class="form-control" type="text" id="donate" readonly="readonly" value="feedvitalik.eth">
                          </div>
                          <div class="input-group">
                            <span class="input-group-addon">Ethereum</span>
                            <input onClick="this.select()" class="form-control" type="text" id="donate" readonly="readonly" value="0xe644be3a05ed983cC18f5c1769fc1A38917ED030">
                          </div>
                          
                        </form>
                    </div>

                    <div role="tabpanel" class="tab-pane" id="characterTab">
                      <div id="container">
                        <p>In order to change your character you need to connect your wallet and hold supported NFTs. We currently support NFTs created specifically for
                          <a href="https://opensea.io/collection/feedvitalik">FeedVitalik</a> 
                          as well as the <a href="https://opensea.io/collection/niftydudes">NiftyDudes</a> project.
                        </p>

                        <p>When playing as an NFT character your in game experience may change based on properties of that specific NFT!</p>
                        <label class="radio-inline no-margin">
                          <input type="radio" name="background" (click)="setCharacter(null)">
                          <img class="vitalikImg" src="../../assets/Images/vitalikSmile_Transparent.png" />
                        </label>
                        <label *ngFor="let id of feedVitalikIds" class="radio-inline no-margin">
                          <input type="radio" name="background" [value]="id" (click)="setCharacter(id)">
                          <img class="vitalikImg" src="../../assets/Images/vitalik collection/{{id}}.png" />
                        </label>
                        <label *ngFor="let id of niftyIds" class="radio-inline no-margin">
                          <input type="radio" name="background" [value]="id" (click)="setCharacter(id, false)">
                          <img class="niftyImg" src="https://niftydudes.com/img/dudes/{{id}}.png" />
                        </label>
                      </div>
                    </div>

                    <div role="tabpanel" class="tab-pane" id="storeTab">
                        <iframe src='https://opensea.io/collection/feedvitalik?embed=true'
                          width='100%'
                          height='100%'
                          frameborder='0'
                          allowfullscreen></iframe>
                    </div>

                    <div role="tabpanel" class="tab-pane" id="scoresTab">
                        <h2>Local High Scores</h2>
                        <table class="table table-striped">
                            <thead>
                              <tr>
                                <th>Score</th>
                                <th>Largest</th>
                                <th>Date</th>
                              </tr>
                            </thead>
                            <tbody>
                              <tr>
                                <td id="score1"></td>
                                <td id="largest1"></td>
                                <td id="date1"></td>
                              </tr>
                              <tr>
                                <td id="score2"></td>
                                <td id="largest2"></td>
                                <td id="date2"></td>
                              </tr>
                              <tr>
                                <td id="score3"></td>
                                <td id="largest3"></td>
                                <td id="date3"></td>
                              </tr>
                              <tr>
                                <td id="score4"></td>
                                <td id="largest4"></td>
                                <td id="date4"></td>
                              </tr>
                              <tr>
                                <td id="score5"></td>
                                <td id="largest5"></td>
                                <td id="date5"></td>
                              </tr>
                            </tbody>
                          </table>
                          <p><a href="#" (click)="clearScores()" >Clear Leaderboard</a></p>
                    </div>

                    <div role="tabpanel" class="tab-pane" id="transactionsTab">
                      <h2>Transactions Vitalik Ate</h2>
                      <div id="container">
                        <table class="table table-striped">
                          <thead>
                            <tr>
                              <th>Block Number</th>
                              <th>From</th>
                              <th>To</th>
                              <th>Amount (Eth)</th>
                              <th>Gas Price (Gwei)</th>
                              <th>View on Etherscan</th>
                            </tr>
                          </thead>
                          <tbody>
                            <tr *ngFor="let tx of eatenTransactions" >
                              <td>{{tx.blockNumber}}</td>
                              <td>{{tx.from}}</td>
                              <td>{{tx.to}}</td>
                              <td>{{convertToEth(tx.value).toFixed(4)}}</td>
                              <td>{{ConvertToGwei(tx.gasPrice).toFixed(2)}}</td>
                              <td><a href="https://etherscan.io/tx/{{tx.hash}}" target="_blank">Etherscan</a></td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                    </div>

                    <div role="tabpanel" class="tab-pane" id="settingsTab">
                      <form>
                        <h3>Sound</h3>
                        <label class="radio-inline"><input type="radio" name="sound" [value]="true" [(ngModel)]="sound" (click)="setSound(true)">On</label>
                        <label class="radio-inline"><input type="radio" name="sound" [value]="false" [(ngModel)]="sound" (click)="setSound(false)">Off</label>

                        <br />

                        <h3>Background</h3>
                        <label class="radio-inline no-margin">
                          <input type="radio" name="background" [value]="1" [(ngModel)]="background" (click)="setBackground(1)">
                          <img class="bg" id="bg1" src="../assets/Images/backgrounds/bg1.png" width="192px" height="120px"/>
                        </label>
                        <label class="radio-inline no-margin">
                          <input type="radio" name="background" [value]="2" [(ngModel)]="background" (click)="setBackground(2)">
                          <img class="bg" id="bg2" src="../assets/Images/backgrounds/bg2.png" width="192px" height="120px"/>
                        </label>
                        <label class="radio-inline no-margin">
                          <input type="radio" name="background" [value]="3" [(ngModel)]="background" (click)="setBackground(3)">
                          <img class="bg" id="bg3" src="../assets/Images/backgrounds/bg3.png" width="192px" height="120px"/>
                        </label>
                      </form>
                    </div>


                  </div>
                </div>
            </div>
        </div>
    </div>
</div>

<button #myModal type="button" class="btn btn-primary btn-md" id="menu" data-toggle="modal" data-target="#myModal" (focus)="preventFocus($event)">Menu</button>
<button *ngIf="!address" type="button" class="btn btn-primary btn-md" id="connect" (click)="connectWallet()">Connect Wallet</button>
<button *ngIf="address" type="button" class="btn btn-primary btn-md" id="connect" disabled title="Refresh page to change wallet">{{displayAddress}}</button>

<div class="traits-container">
  <ul>
    <li *ngIf="unisocksHolder" class="walletTraits">Making it rain Unisocks (Hold $SOCKS)</li>
    <li *ngIf="niftyWealth >= 80" class="walletTraits">4X More Dollah Dollah Bills (Wealth >= 80)</li>
    <li *ngIf="niftyWealth >= 50 && niftyWealth < 80" class="walletTraits">2X More Dollah Dollah Bills (Wealth >= 50)</li>
    <li *ngIf="niftyWealth < 50 && niftyWealth != null" class="walletTraits">1.5X Less Dollah Dollah Bills (Wealth < 50)</li>
    <li *ngIf="niftyHealth >= 80" class="walletTraits"> 2 additional lives (Health >= 80)</li>
    <li *ngIf="niftyHealth >= 50 && niftyHealth < 80" class="walletTraits"> 1 live (Health >= 50)</li>
    <li *ngIf="niftyPower >= 50" class="walletTraits"> Super Jump (Power >= 50)</li>
    <li *ngIf="niftySpeed >= 80" class="walletTraits"> Move fast (Power >= 80)</li>
    <li *ngIf="niftySpeed < 20 && niftyWealth != null" class="walletTraits"> 2X Slower Speed (Power < 20)</li>
    <li *ngIf="niftyLuck > 75" class="walletTraits">Powerups last longer (Luck > 75)</li>
    <li *ngIf="niftyLuck < 20 && niftyLuck != null" class="walletTraits">No powerups (Luck < 20)</li>
  </ul>
</div>